# 기술적 지표 신뢰도 테스트 가이드

## 개요

이 스크립트는 대시보드에서 사용하는 기술적 지표들의 정확도와 신뢰도를 백테스팅으로 측정합니다.

## 테스트 항목

### 1. 지지/저항선 정확도
- 지지선이 실제로 가격을 지지했는지 확인
- 저항선이 실제로 가격 상승을 막았는지 확인
- 허용 오차: ±2%

### 2. 추세선 정확도
- 예측한 추세(상승/하락/횡보)가 실제로 맞았는지 확인
- 실제 가격 변동폭 2% 이상을 기준으로 추세 판단

### 3. 이동평균선 신호 정확도
- 골든크로스 후 실제로 상승했는지 확인
- 데드크로스 후 실제로 하락했는지 확인

## 사용 방법

### 1. 기본 실행

```bash
cd backend
python test_technical_indicators.py
```

### 2. 특정 종목만 테스트

스크립트 내의 `test_symbols` 변수를 수정:

```python
test_symbols = ["005930"]  # 삼성전자만 테스트
```

### 3. 테스트 기간 조정

각 테스트 함수의 `test_periods` 파라미터를 조정:

```python
test_support_resistance_accuracy(symbol, test_periods=20)  # 더 많은 기간 테스트
```

## 결과 해석

### 리포트 예시

```
=== 지지/저항선 정확도 테스트: 005930 ===
[지지/저항선 정확도]
  지지선 정확도: 65.5%
    - 성공: 45회
    - 실패: 24회
  저항선 정확도: 72.3%
    - 성공: 52회
    - 실패: 20회
  전체 정확도: 68.9%

[추세선 정확도]
  전체 정확도: 75.0%
    - 상승 추세 정확도: 8회
    - 하락 추세 정확도: 5회
    - 횡보 정확도: 2회
  총 예측: 20회

[이동평균선 신호 정확도]
  골든크로스 정확도: 68.2%
    - 성공: 15회
    - 실패: 7회
  데드크로스 정확도: 71.4%
    - 성공: 10회
    - 실패: 4회
```

### 정확도 기준

- **70% 이상**: 우수한 신뢰도
- **60-70%**: 양호한 신뢰도
- **50-60%**: 보통 신뢰도
- **50% 미만**: 개선 필요

## PPT 작성 팁

### 1. 결과 요약

```
기술적 지표 신뢰도 테스트 결과

- 지지/저항선: 평균 68.9% 정확도
- 추세선: 평균 75.0% 정확도  
- 이동평균선 신호: 평균 69.8% 정확도

→ 전체적으로 70% 수준의 신뢰도로 안정적인 예측 가능
```

### 2. 시각화 제안

- **막대 그래프**: 각 지표별 정확도 비교
- **라인 차트**: 시간에 따른 정확도 변화 추이
- **파이 차트**: 성공/실패 비율

### 3. 개선 사항 제안

- 정확도가 낮은 지표에 대한 개선 방안
- 파라미터 튜닝 제안
- 추가 지표 도입 검토

## 주의사항

1. **데이터 기간**: 최소 1년 이상의 데이터가 필요합니다
2. **시장 환경**: 테스트 결과는 과거 데이터 기반이므로 미래 성과를 보장하지 않습니다
3. **종목별 차이**: 종목에 따라 정확도가 다를 수 있습니다

## 고급 사용법

### 커스텀 테스트 함수 작성

```python
def test_custom_indicator(symbol: str) -> Dict:
    # 커스텀 지표 테스트 로직
    pass
```

### 여러 종목 일괄 테스트

```python
symbols = ["005930", "000660", "035420", "035720", "051910"]
report = generate_test_report(symbols)
```

## 문제 해결

### 데이터 부족 오류
- 종목 코드 확인 (6자리 숫자)
- 인터넷 연결 확인
- FinanceDataReader/yfinance 라이브러리 설치 확인

### 메모리 오류
- `test_periods` 값을 줄여서 실행
- 한 번에 하나의 종목만 테스트

