<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <title>TradeNote | íšŒì›ê°€ì…</title>
    <link rel="stylesheet" href="assets/styles.css">
    <script src="assets/app.js" defer></script>
    <script src="assets/register.js" defer></script>
</head>
<body>
    <header class="site-header">
        <a href="dashboard.html" class="brand" style="text-decoration: none; color: inherit;">
            <span class="brand-mark" aria-hidden="true">ğŸ“ˆ</span>
            <div>
                <p class="brand-name">TradeNote</p>
                <p class="brand-tagline">ì‰½ê³  ê°„ë‹¨í•˜ê²Œ</p>
            </div>
        </a>
        <div class="header-actions">
            <button class="theme-toggle" id="theme-toggle" type="button" aria-label="í…Œë§ˆ ë³€ê²½" title="ë‹¤í¬ëª¨ë“œ/ë¼ì´íŠ¸ëª¨ë“œ ì „í™˜">
                <span class="theme-icon">âš™ï¸</span>
            </button>
            <a class="auth-trigger" id="auth-toggle" href="login.html">ë¡œê·¸ì¸</a>
            <div class="auth-status" id="auth-status" hidden>
                <span id="auth-display-name"></span>
                <button class="auth-logout" id="auth-logout" type="button">ë¡œê·¸ì•„ì›ƒ</button>
            </div>
        </div>
    </header>

    <main class="content-section">
        <article class="highlight-card" style="max-width: 520px; margin: 0 auto;">
            <header>
                <h1>íšŒì›ê°€ì…</h1>
                <p>TradeNoteì— ê°€ì…í•˜ê³  ë§¤ë§¤ë‚´ì—­ì„ ê´€ë¦¬í•˜ì„¸ìš”.</p>
            </header>
            <form class="auth-form" id="register-form" novalidate>
                <div class="auth-field">
                    <label for="register-username">ì•„ì´ë””</label>
                    <input id="register-username" name="username" type="text" autocomplete="username" placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš” (3ì ì´ìƒ 20ì ì´í•˜)" required minlength="3" maxlength="20">
                </div>
                <div class="auth-field">
                    <label for="register-password">ë¹„ë°€ë²ˆí˜¸</label>
                    <input id="register-password" name="password" type="password" autocomplete="new-password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” (8ì ì´ìƒ)" required minlength="8" maxlength="64">
                </div>
                <div class="auth-field">
                    <label for="register-displayname">ë‹‰ë„¤ì„</label>
                    <input id="register-displayname" name="displayName" type="text" autocomplete="nickname" placeholder="ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”" required minlength="1" maxlength="40">
                </div>
                <button class="cta-button full-width" id="register-submit" type="submit">íšŒì›ê°€ì…</button>
                <p class="auth-message" id="auth-message" role="status" aria-live="polite"></p>
            </form>
            <div style="text-align: center; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--card-border);">
                <p style="color: var(--text-muted); margin: 0 0 0.75rem;">ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”?</p>
                <a href="login.html" class="auth-trigger" style="display: inline-block;">ë¡œê·¸ì¸</a>
            </div>
        </article>
    </main>

    <footer class="site-footer">
        <div>
            <p class="footer-brand">TradeNote</p>
            <p class="footer-copy">Â© 2025 TradeNote. All rights reserved.</p>
        </div>
        <nav aria-label="í•˜ë‹¨ ë©”ë‰´">
            <a href="index.html?view=journal#policies">ì´ìš© ì•½ê´€</a>
            <a href="index.html?view=journal#policies">ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨</a>
            <a href="index.html?view=journal#recommendations">ì¶”ì²œ ì¢…ëª©</a>
        </nav>
    </footer>

    <script>
        // GitHub Pagesì—ì„œ ì§ì ‘ register.htmlì„ ì—´ì—ˆì„ ë•Œë„
        // ìë™ìœ¼ë¡œ ?env=devë¥¼ ë¶™ì—¬ì„œ ë¡œì»¬ ë°±ì—”ë“œë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë¦¬ë‹¤ì´ë ‰íŠ¸
        (function () {
            const isGithubHost = window.location.hostname === "dongyeop-woo.github.io" ||
                                 window.location.hostname.endsWith(".github.io");
            if (!isGithubHost) return;

            const url = new URL(window.location.href);
            const params = url.searchParams;

            // ì´ë¯¸ env / backend íŒŒë¼ë¯¸í„°ê°€ ìˆìœ¼ë©´ ê·¸ëŒ€ë¡œ ë‘ 
            if (params.has("env") || params.has("backend")) return;

            params.set("env", "dev");
            window.location.replace(url.toString());
        })();
    </script>
</body>
</html>

