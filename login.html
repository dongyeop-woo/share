<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <title>TradeNote | ë¡œê·¸ì¸</title>
    <link rel="stylesheet" href="assets/styles.css">
    <script src="assets/app.js" defer></script>
    <script src="assets/login.js" defer></script>
</head>
<body>
    <header class="site-header">
        <a href="dashboard.html" class="brand" style="text-decoration: none; color: inherit;">
            <span class="brand-mark" aria-hidden="true">ğŸ“ˆ</span>
            <div>
                <p class="brand-name">TradeNote</p>
                <p class="brand-tagline">ì‰½ê³  ê°„ë‹¨í•˜ê²Œ</p>
            </div>
        </a>
        <div class="header-actions">
            <button class="theme-toggle" id="theme-toggle" type="button" aria-label="í…Œë§ˆ ë³€ê²½" title="ë‹¤í¬ëª¨ë“œ/ë¼ì´íŠ¸ëª¨ë“œ ì „í™˜">
                <span class="theme-icon">âš™ï¸</span>
            </button>
            <a class="auth-trigger" id="auth-toggle" href="login.html" aria-current="page">ë¡œê·¸ì¸</a>
            <div class="auth-status" id="auth-status" hidden>
                <span id="auth-display-name"></span>
                <button class="auth-logout" id="auth-logout" type="button">ë¡œê·¸ì•„ì›ƒ</button>
            </div>
        </div>
    </header>

    <main class="content-section">
        <article class="highlight-card" style="max-width: 520px; margin: 0 auto;">
            <header>
                <h1>ê³„ì •ì— ë¡œê·¸ì¸</h1>
                <p>TradeNote ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•˜ì„¸ìš”.</p>
            </header>
            <form class="auth-form" id="auth-form" novalidate>
                <div class="auth-field">
                    <label for="auth-username">ì•„ì´ë””</label>
                    <input id="auth-username" name="username" type="text" autocomplete="username" placeholder="ì•„ì´ë””ë¥¼ ì…ë ¥í•˜ì„¸ìš”" required minlength="3" maxlength="20">
                </div>
                <div class="auth-field">
                    <label for="auth-password">ë¹„ë°€ë²ˆí˜¸</label>
                    <input id="auth-password" name="password" type="password" autocomplete="current-password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" required minlength="8" maxlength="64">
                </div>
                <button class="cta-button full-width" id="auth-submit" type="submit">ë¡œê·¸ì¸</button>
                <p class="auth-message" id="auth-message" role="status" aria-live="polite"></p>
            </form>
            <div style="text-align: center; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--card-border);">
                <p style="color: var(--text-muted); margin: 0 0 0.75rem;">ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”?</p>
                <!--
                    GitHub Pages(dongyeop-woo.github.io)ì—ì„œ ì—´ ë•Œë„ ë¡œì»¬ ë°±ì—”ë“œë¡œ ì—°ê²°ë˜ë„ë¡,
                    íšŒì›ê°€ì… ë§í¬ì— ì¿¼ë¦¬ìŠ¤íŠ¸ë§ì„ ìë™ìœ¼ë¡œ ë¶™ì…ë‹ˆë‹¤.
                -->
                <a href="register.html" id="register-link" class="auth-trigger" style="display: inline-block;">íšŒì›ê°€ì…</a>
            </div>
        </article>
    </main>

    <footer class="site-footer">
        <div>
            <p class="footer-brand">TradeNote</p>
            <p class="footer-copy">Â© 2025 TradeNote. All rights reserved.</p>
        </div>
        <nav aria-label="í•˜ë‹¨ ë©”ë‰´">
            <a href="index.html?view=journal#policies">ì´ìš© ì•½ê´€</a>
            <a href="index.html?view=journal#policies">ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨</a>
            <a href="index.html?view=journal#recommendations">ì¶”ì²œ ì¢…ëª©</a>
        </nav>
    </footer>

    <script>
        // ë¡œê·¸ì¸ í˜ì´ì§€ì—ì„œ "íšŒì›ê°€ì…" í´ë¦­ ì‹œ,
        // GitHub Pagesì—ì„œë„ ìë™ìœ¼ë¡œ ?env=devë¥¼ ë¶™ì—¬ì„œ ë¡œì»¬ ë°±ì—”ë“œë¡œ í–¥í•˜ê²Œ í•¨.
        (function () {
            const link = document.getElementById("register-link");
            if (!link) return;

            const isGithubHost = window.location.hostname === "dongyeop-woo.github.io" ||
                                 window.location.hostname.endsWith(".github.io");

            if (isGithubHost) {
                const target = new URL(link.getAttribute("href"), window.location.href);
                const params = target.searchParams;
                if (!params.has("env") && !params.has("backend")) {
                    params.set("env", "dev");
                }
                link.setAttribute("href", target.toString());
            }
        })();
    </script>
</body>
</html>

